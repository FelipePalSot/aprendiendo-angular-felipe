<h1>Formularios Reactivos en Angular</h1>

<form [formGroup]="formulario" (ngSubmit)="onSubmit()">

    <div class="field">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" formControlName="nombre"/>

        <div *ngIf="formulario.get('nombre')?.invalid && formulario.get('nombre')?.touched">
            <span *ngIf="formulario.get('nombre')?.errors?.['required']">
                El nombre es obligatorio
            </span>

            <span *ngIf="formulario.get('nombre')?.errors?.['minlength']">
                El nombre es muy corto
            </span>

            <span *ngIf="formulario.get('nombre')?.errors?.['maxlength']">
                El nombre es muy largo
            </span>
        </div>
    </div>

    <br>

    <div class="field">
            <label for="email">Email:</label>
            <input type="email" id="email" formControlName="email"/>

        <div *ngIf="!formulario.get('email')?.invalid && formulario.get('email')?.touched">
            <span *ngIf="formulario.get('email')?.errors?.['required']">
                El email es obligatorio
            </span>

            <span *ngIf="formulario.get('email')?.errors?.['email']">
                El nombre no es valido
            </span>         
        </div>
    </div>

    <br>

    <div class="field">
            <label for="edad">Edad:</label>
            <input type="number" id="edad" formControlName="edad"/>

        <div *ngIf="formulario.get('edad')?.invalid && formulario.get('edad')?.touched">
            <span *ngIf="formulario.get('edad')?.errors?.['required']">
                La edad es obligatorio
            </span>

            <span *ngIf="formulario.get('edad')?.errors?.['min']">
                 La edad minimo es 18
            </span>         
        </div>
    </div>
    
    <br>

    <div class="field">
            <label for="password">Contraseña:</label>
            <input type="password" id="password" formControlName="password"/>

        <div *ngIf="formulario.get('password')?.invalid && formulario.get('password')?.touched">
            <span *ngIf="formulario.get('password')?.errors?.['required']">
                La contraseña es obligatoria
            </span>

            <span *ngIf="formulario.get('password')?.errors?.['minlength']">
                 La contraseña es muy corta
            </span>         
        </div>
    </div>

    <br>

    <button type="submit">
        Enviar
    </button>
   
</form>
